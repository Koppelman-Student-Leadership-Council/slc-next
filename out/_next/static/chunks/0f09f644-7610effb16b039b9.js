(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[602],{67280:function(e,t,n){var a,r,o,i,s,l,d,c,u,h,f,y=n(67948),v=n(85893),m=n(67294),_=n(99490),p=n(73387),g=n(21690),w=n(35666);function D(e,t,n,a){Object.defineProperty(e,t,{get:n,set:a,enumerable:!0,configurable:!0})}function x(e){return e&&e.__esModule?e.default:e}a=e.exports,Object.defineProperty(a,"__esModule",{value:!0,configurable:!0}),D(e.exports,"CalendarView",(function(){return vt})),D(e.exports,"default",(function(){return mt})),(o=r||(r={})).AGENDA="agenda",o.WEEK="week",o.DAY="day",o.THREE_DAYS="threeDays",o.MONTH="month",(s=i||(i={})).NORMAL="normal",s.MONTH="month",s.AGENDA="agenda",s.HEADER="header",s.SHOW_MORE_MONTH="showMoreMonth",(d=l||(l={})).FORWARD="forward",d.BACKWARDS="backwards",d.TODAY="today",(u=c||(c={})).MONDAY="MONDAY",u.SUNDAY="SUNDAY",u.UNKNOWN="UNKNOWN",(f=h||(h={})).H_24="24",f.H_12="12";var b,S=function(e){if(e.disabledViews&&e.disabledViews.length===Object.values(r).length)throw Error("[Kalend]: At least one calendar view has to be enabled");var t;if(e.initialView&&!((t=e.initialView.toString()).toLowerCase()===r.DAY.toLowerCase()?r.DAY:t.toLowerCase()===r.THREE_DAYS.toLowerCase()?r.THREE_DAYS:t.toLowerCase()===r.WEEK.toLowerCase()?r.WEEK:t.toLowerCase()===r.MONTH.toLowerCase()?r.MONTH:t.toLowerCase()===r.AGENDA.toLowerCase()?r.AGENDA:null))throw Error('[Kalend]: Initial view "'.concat(e.initialView,'" is not valid'));if(e.weekDayStart&&"Monday"!==e.weekDayStart&&"Sunday"!==e.weekDayStart)throw Error('[Kalend]: invalid weekDayStart prop "'.concat(e.weekDayStart,'". Set either Monday or Sunday'));e.timeFormat&&e.timeFormat!==h.H_24.toString()&&e.timeFormat!==h.H_12.toString()&&(e.timeFormat,h.H_24.toString(),h.H_12.toString())},j=25,T=40,C="floating",E=function(e,t,n){var a="string"===typeof e?e:e.toString();if(t===C)return _.DateTime.fromISO(a,{zone:"UTC"}).toUTC();var r=_.DateTime.fromISO(a);return t?r.setZone(t):n?r.setZone(n):r},M=function(e,t){return t?"".concat(e,"-dark"):e},N=function(e,t,n){var a=e;return a=t?"".concat(a,"-mobile"):a,a=n?"".concat(a,"-dark"):a},A=function(e){return e.toFormat("dd-MM-yyyy")},k=function(e){return e===r.THREE_DAYS||e===r.DAY||e===r.WEEK?T:0},O=function(e){return e[0]},K=function(e){return e[e.length-1]},L=function(e,t){switch(e){case r.AGENDA:return t.buttons.agenda;case r.DAY:return t.buttons.day;case r.THREE_DAYS:return t.buttons.threeDays;case r.WEEK:return t.buttons.week;case r.MONTH:return t.buttons.month;default:return""}},H=function(e){switch(e){case r.AGENDA:return r.AGENDA;case r.DAY:case r.THREE_DAYS:case r.WEEK:return r.WEEK;case r.MONTH:return r.MONTH;default:return""}},V=function(e,t,n){return n===r.WEEK||n===r.DAY||n===r.THREE_DAYS?t&&("ontouchstart"in window||window.navigator.maxTouchPoints)?e:e-15:e},R="dd-MM-yyyy",F={parseToDateTime:function(e){return"string"===typeof e?_.DateTime.fromISO(e):e},getLastDayOfMonth:function(e){var t=e.daysInMonth;return e.set({day:t})},getFirstDayOfMonth:function(e){return e.set({day:1})},isSameDay:function(e,t){return e.year===t.year&&e.month===t.month&&e.day===t.day},isBefore:function(e,t){return _.DateTime.fromISO(t).valueOf()-_.DateTime.fromISO(e).valueOf()>0},isBeforeInDateTime:function(e,t){return t.valueOf()-e.valueOf()>0},isBeforeAny:function(e,t){var n=F.parseToDateTime(e);return F.parseToDateTime(t).valueOf()-n.valueOf()>0},isToday:function(e){var t=_.DateTime.local();return e.day===t.day&&e.month===t.month&&e.year===t.year},parseToString:function(e){return"string"!==typeof e&&e.isValid?e.toUTC().toString():e.toString()},toUtcString:function(e){return _.DateTime.fromISO(e).toUTC().toISO()},toUtc:function(e){return e.toUTC().toISO()},setTimezone:function(e,t){return _.DateTime.fromISO(e).setZone(t).toString()},toHumanDate:function(e){return _.DateTime.fromISO(e).toFormat("d LLL yyyy hh:mm")}},W=F,I={red:{dark:"#ef9a9a",light:"#e53935"},pink:{dark:"#f48fb1",light:"#d81b60"},purple:{dark:"#ce93d8",light:"#8e24aa"},"deep purple":{dark:"#b39ddb",light:"#5e35b1"},indigo:{dark:"#9fa8da",light:"#3949ab"},blue:{dark:"#90caf9",light:"#1e88e5"},"light blue":{dark:"#81d4fa",light:"#039be5"},cyan:{dark:"#80deea",light:"#00acc1"},teal:{dark:"#80cbc4",light:"#00897b"},green:{dark:"#a5d6a7",light:"#43a047"},"light green":{dark:"#c5e1a5",light:"#7cb342"},yellow:{dark:"#fff59d",light:"#fdd835"},amber:{dark:"#ffe082",light:"#ffb300"},orange:{dark:"#ffcc80",light:"#fb8c00"},"deep orange":{dark:"#ffab91",light:"#f4511e"},brown:{dark:"#bcaaa4",light:"#6d4c41"},"blue grey":{dark:"#b0bec5",light:"#546e7a"}},U=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Y=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],q=function(e,t,n,a){return a&&t!==r.MONTH&&a(e),n===c.MONDAY?function(e,t){var n=[],a=e.weekday,o=e.minus({days:a-1});if(t===r.MONTH)if(0===a){for(var i=6;i>0;i--)n.push(e.minus({days:i}));n.push(e)}else{n.push(o);for(var s=1;s<7;s++)n.push(o.plus({days:s}))}else for(var l=0;l<7;l++)n.push(o.plus({days:l}));return n}(e,t):function(e,t){var n=[],a=e.weekday,o=7===a?e.plus({days:a-7}):e.minus({days:a});if(t===r.MONTH)if(7===a){for(var i=6;i>0;i--)n.push(e.minus({days:i}));n.push(e)}else{n.push(o);for(var s=1;s<7;s++)n.push(o.plus({days:s}))}else for(var l=0;l<7;l++)n.push(o.plus({days:l}));return n}(e,t)},B=function(e){switch(e){case r.WEEK:return 7;case r.THREE_DAYS:return 3;case r.DAY:return 1;default:return 7}},P=function(e,t){var n=function(e){for(var t=W.getFirstDayOfMonth(e),n=e.daysInMonth,a=[],r=0;r<=n;r+=1){var o=t.plus({days:r});a.push(o)}return a}(e);return t&&t(n[15]),n},z=function(e,t,n){var a=function(e,t){for(var n=W.getFirstDayOfMonth(e),a=q(n,r.WEEK,t,void 0),o=a,i=1;i<36;i+=1){var s=a[6].plus({days:i});o.push(s)}return o}(e,n);return t&&t(a[15]),a},J=function(e,t,n,a){switch(e){case r.WEEK:return q(t,e,n,a);case r.THREE_DAYS:return function(e,t,n){var a=[];if(null===n||void 0===n)for(var r=0;r<=2;r++)a.push(e.plus({days:r}));else if(n)for(var o=1;o<=3;o++)a.push(e.plus({days:o}));else for(var i=3;i>0;i--)a.push(e.minus({days:i}));return t&&t(a[1]),a}(t,a);case r.DAY:return function(e,t){var n=e;return t&&t(n),[n]}(t,a);case r.MONTH:return z(t,a,n);case r.AGENDA:return P(t,a);default:return q(t,e,a)}},G=function(e,t,n,a,o){return J(n,function(e,t,n){return e===l.TODAY?_.DateTime.now():t===r.THREE_DAYS?e===l.FORWARD?K(n).plus({days:1}):O(n).minus({days:3}):t===r.WEEK||t===r.DAY?e===l.FORWARD?K(n).plus({days:1}):O(n).minus({days:1}):t===r.MONTH||t===r.AGENDA?e===l.FORWARD?n[15].plus({months:1}):n[15].minus({months:1}):_.DateTime.now()}(e,n,t),o,a)},X=function(e){var t,n,a;return{rangeFrom:null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.set({hour:0,minute:0,second:0,millisecond:0}).toUTC().toString(),rangeTo:null===(a=null===e||void 0===e||null===(n=e[(null===e||void 0===e?void 0:e.length)-1])||void 0===n?void 0:n.set({hour:23,minute:59,second:59,millisecond:59}))||void 0===a?void 0:a.toUTC().toString()}},Z=function(){},Q=function(e){if(e){if(e.toLowerCase()===h.H_24.toString().toLowerCase())return h.H_24;if(e.toLowerCase()===h.H_12.toString().toLowerCase())return h.H_12}},$=function(e){if(e){if(e.toLowerCase()===c.MONDAY.toLowerCase())return c.MONDAY;if(e.toLowerCase()===c.SUNDAY.toLowerCase())return c.SUNDAY}},ee=function(e){return{hourHeight:e.hourHeight||40,timeFormat:Q(e.timeFormat)||h.H_24,timezone:e.timezone||Intl.DateTimeFormat().resolvedOptions().timeZone,weekDayStart:$(e.weekDayStart)||c.MONDAY,isDark:!1,disableMobileDropdown:e.disableMobileDropdown||!1,disabledViews:e.disabledViews,calendarIDsHidden:e.calendarIDsHidden||null,hasExternalLayout:void 0!==e.eventLayouts}},te=function(e){return{onEventDragFinish:e.onEventDragFinish||void 0,onPageChange:e.onPageChange||void 0,onSelectView:e.onSelectView||void 0,onEventClick:e.onEventClick||Z,onNewEventClick:e.onNewEventClick||Z,showMoreMonth:e.showMoreMonth||Z,onStateChange:e.onStateChange||void 0}},ne=function(e){var t,n=y.slicedToArray(m.useState(!1),2),a=n[0],o=n[1],i=y.slicedToArray(m.useContext(se),2)[1],s=function(e,t){i({type:e,payload:t})},l=function(){var t=ee(e),n=te(e);s("config",t),s("callbacks",n),s("selectedView",e.selectedView||e.initialView||r.WEEK),s("selectedDate",e.initialDate?_.DateTime.fromISO(e.initialDate):_.DateTime.now()),e.style&&s("style",e.style),o(!0)};return m.useEffect((function(){l(),o(!0)}),[]),m.useEffect((function(){l()}),[e.hourHeight,e.timeFormat,e.timezone,e.isDark,e.disableMobileDropdown]),m.useEffect((function(){var t,n,a=(t=e.events,(n=e.calendarIDsHidden)&&0!==n.length?t.filter((function(e){return e.calendarID?!(null===n||void 0===n?void 0:n.includes(e.calendarID))&&e:e})):t);s("events",a)}),[JSON.stringify(e.calendarIDsHidden),null===(t=e.calendarIDsHidden)||void 0===t?void 0:t.length]),a?e.children:null},ae=function(e,t){switch(t.type){case"initialView":return y.objectSpread({},e,{initialView:t.payload});case"selectedView":return y.objectSpread({},e,{selectedView:t.payload});case"isMobile":return y.objectSpread({},e,{isMobile:t.payload});case"translations":return y.objectSpread({},e,{translations:t.payload});case"style":return y.objectSpread({},e,{style:t.payload});case"direction":return y.objectSpread({},e,{direction:t.payload});case"daysViewLayout":return y.objectSpread({},e,{daysViewLayout:t.payload});case"config":return y.objectSpread({},e,{config:t.payload});case"headerLayout":return y.objectSpread({},e,{headerLayout:t.payload});case"monthLayout":return y.objectSpread({},e,{monthLayout:t.payload});case"monthOverflowEvents":return y.objectSpread({},e,{monthOverflowEvents:t.payload});case"showMoreEvents":return y.objectSpread({},e,{showMoreEvents:t.payload});case"layoutUpdateSequence":return y.objectSpread({},e,{layoutUpdateSequence:t.payload});case"events":return y.objectSpread({},e,{events:t.payload});case"selectedDate":return y.objectSpread({},e,{selectedDate:t.payload});case"calendarDays":return y.objectSpread({},e,{calendarDays:t.payload});case"isLoading":return y.objectSpread({},e,{isLoading:t.payload});case"rawWidth":return y.objectSpread({},e,{rawWidth:t.payload});case"width":return y.objectSpread({},e,{width:t.payload});case"height":return y.objectSpread({},e,{height:t.payload});case"callbacks":return y.objectSpread({},e,{callbacks:t.payload});case"headerEventRowsCount":return y.objectSpread({},e,{headerEventRowsCount:t.payload});default:return e}};b=JSON.parse('{"buttons":{"today":"Today","agenda":"Agenda","day":"Day","threeDays":"3 Days","week":"Week","month":"Month","showMore":"More"},"months":{"january":"January","february":"February","march":"March","april":"April","may":"May","june":"June","july":"July","august":"August","september":"September","october":"October","november":"November","december":"December"},"weekDays":{"Mon":"Mon","Tue":"Tue","Wed":"Wed","Thu":"Thu","Fri":"Fri","Sat":"Sat","Sun":"Sun"}}');var re,oe,ie,se=m.createContext({}),le=function(e){var t=e.children,n={isLoading:!1,headerEventRowsCount:0,initialView:null,selectedView:null,selectedDate:_.DateTime.now(),calendarDays:[],width:0,rawWidth:0,height:0,isMobile:!1,events:{},daysViewLayout:null,headerLayout:null,monthLayout:null,monthOverflowEvents:null,showMoreEvents:null,layoutUpdateSequence:1,config:ee({}),callbacks:te({}),direction:l.TODAY,translations:x(b),style:{primaryColor:"#ec407a",baseColor:"#424242FF",inverseBaseColor:"#E5E5E5FF"}},a=y.slicedToArray(m.useReducer(ae,n),2),r=a[0],o=a[1];return v.jsx(se.Provider,{value:[r,o],children:t})},de=function(e){var t=e.width,n=e.day,a=y.slicedToArray(m.useContext(se),1)[0],o=a.selectedView,i=a.style,s=W.isToday(n),l=o===r.MONTH;return v.jsx("div",{className:"Kalend__CalendarHeaderDates__col",style:{width:t},children:v.jsx("div",{className:"Kalend__CalendarHeaderDates__circle".concat(l?"-small":""),style:{background:s?i.primaryColor:"transparent"},children:v.jsx("p",{className:"Kalend__text Kalend__CalendarHeaderDates__text ".concat(o===r.MONTH?"Kalend__CalendarHeaderDates__text-size-small":""),style:{color:s?i.inverseBaseColor:i.baseColor},children:n.day})})})},ce=function(e){var t=e.width,n=e.day,a=y.slicedToArray(m.useContext(se),1)[0].translations;return v.jsx("div",{className:"Kalend__CalendarHeaderWeekDays__col",style:{width:t},children:v.jsx("p",{className:"Kalend__text Kalend__CalendarHeaderWeekDays__text",children:a.weekDays["".concat(n.toFormat("EEE"))]})})},ue={dragging:!1,initialTop:0,initialLeft:0,offsetTop:null,offsetLeft:null,xPosition:0,eventHasChanged:!1,width:null,height:null,zIndex:2,border:"",meta:{},isDragging:!1},he=function(e){var t,n;return!!(null===(t=e.nativeEvent)||void 0===t||null===(n=t.touches)||void 0===n?void 0:n[0])},fe=function(e){var t=e.id,n=e.onClick,a=e.text,r=e.className,o=e.style,i=e.children,s=e.propagation,l=e.disabled,d=e.onClickFromParent,c=e.onMouseDown,u=e.onMouseUp,h=e.onMouseMove,f=e.onTouchEnd,_=m.useRef(null),p=y.slicedToArray(m.useState(!1),2),g=p[0],w=p[1],D=y.slicedToArray(m.useState({}),2),x=D[0],b=D[1],S=a||"",j=r?"Kalend__button ".concat(r," Kalend__ButtonBase"):"Kalend__button Kalend__ButtonBase";return v.jsxs("button",{id:t,ref:_,onClick:function(e){n(e),d&&d()},onTouchMove:function(t){s||t.stopPropagation(),e.onTouchMove&&e.onTouchMove(t),clearTimeout(re)},onTouchStart:function(t){s||t.stopPropagation(),e.onTouchStart&&e.onTouchStart(t),g&&w(!1),re=setTimeout((function(){!function(e){var t=_.current;if(t){var n,a,r=t.getBoundingClientRect(),o=t.clientWidth>t.clientHeight?t.clientWidth:t.clientHeight,i=e.touches?e.touches[0]:void 0;i?(n=i.clientX-r.left-o,a=i.clientY-r.top-o):(n=e.clientX,a=e.clientY);var s={width:"".concat(2*o,"px"),height:"".concat(2*o,"px"),left:"".concat(n,"px"),top:"".concat(a,"px")};b(s),w(!0)}}(t)}),100)},onTouchEnd:f,onMouseDown:c,onMouseUp:u,onMouseMove:h,className:j,style:o,children:[i||S,g&&!l?v.jsx("span",{style:x,className:"Kalend__ButtonBase__animation"}):null]})},ye=function(e){var t=e.isDark,n=e.summary,a=e.type;return v.jsxs("p",{className:"Kalend__text ".concat(M("Kalend__Event__summary",t)," Kalend__Event__summary__type-").concat(a),children:[n," "]})},ve=function(e,t){return t===h.H_24?e.toFormat("HH:mm"):e.toFormat("hh:mm a")},me=function(e){var t=e.isDark,n=e.event,a=e.type,r=y.slicedToArray(m.useContext(se),1)[0].config,o=r.timezone,i=r.timeFormat,s=function(e,t,n){var a=e.startAt,r=e.endAt,o=e.timezoneStartAt,i=E(a,o,n),s=E(r,o,n);return{start:ve(i,t),end:ve(s,t)}}(n,i,o);return i===h.H_12?v.jsxs("p",{className:"Kalend__text ".concat(M("Kalend__Event__time",t)," Kalend__Event__time__type-").concat(a),children:[s.start,v.jsx("br",{}),s.end]}):v.jsxs("p",{className:"Kalend__text ".concat(M("Kalend__Event__time",t)," Kalend__Event__time__type-").concat(a),children:[s.start," - ",s.end]})},_e=function(e){var t=e.isDark,n=e.event,a=e.type;return v.jsxs("div",{className:"Kalend__EventAgenda__container",children:[v.jsx(ye,{summary:n.summary,isDark:t,type:a}),v.jsx(me,{isDark:t,event:n,type:a})]})},pe=function(e){var t=e.isDark,n=e.event,a=e.type;return v.jsx(ye,{summary:n.summary,isDark:t,type:a})},ge=function(e){var t=e.isDark,n=e.event,a=e.type,r=e.meta;return v.jsxs("div",{style:{display:"flex",flexDirection:"column",maxWidth:"-webkit-fill-available"},children:[v.jsx(ye,{summary:n.summary,isDark:t,type:a}),(null===r||void 0===r?void 0:r.showTime)?v.jsx(me,{isDark:t,event:n,type:i.NORMAL}):null]})},we=function(e){var t=e.isDark,n=e.event,a=e.type;return v.jsx("div",{className:"Kalend__EventShowMoreMonth__container",children:v.jsx(ye,{summary:n.summary,isDark:t,type:a})})},De=function(e,t){if(!t.payload)return y.objectSpread({},e,t);var n=t.payload,a=n.stateName,r=(n.type,n.data);return y.objectSpread({},e,y.defineProperty({},a,r))},xe=function(e){var t=e.item,n=e.type,a=e.day,r=void 0===a?_.DateTime.now():a,o=e.index,s=t.event,l=s.startAt,d=y.slicedToArray(m.useReducer(De,ue),2),c=d[0],u=d[1],h=function(e,t){u({state:c,payload:{stateName:e,data:t}})},f=m.useRef(c.offsetTop),p=m.useRef(c.offsetLeft),w=m.useRef(0),D=m.useRef(0),x=m.useRef(!1),b=m.useRef(!1),S=y.slicedToArray(m.useContext(se),2),C=S[0],E=(S[1],C.width),M=C.calendarDays,N=C.config,A=C.callbacks,k=C.height,O=N.hourHeight,K=N.isDark,L=A.onEventClick,H=A.onEventDragFinish,V=E/(n===i.MONTH?7:M.length),R=s.color?function(e,t){return I[e]?I[e][t?"dark":"light"]:e}(s.color,K):"indigo",F={position:n===i.AGENDA||n===i.SHOW_MORE_MONTH?"relative":"absolute",height:null!==c.height?c.height:t.height||g.MONTH_EVENT_HEIGHT,width:null!==c.width?c.width:t.width||"100%",top:null!==c.offsetTop?c.offsetTop:t.offsetTop,left:null!==c.offsetLeft?c.offsetLeft:t.offsetLeft,zIndex:c.zIndex||t.zIndex,border:c.zIndex>2?"solid 1px white":"solid 1px ".concat(R),backgroundColor:R,visibility:"visible"};m.useEffect((function(){var e;h("initialTop",(e=t).offsetTop),h("initialLeft",e.offsetLeft),h("offsetTop",e.offsetTop),h("offsetLeft",e.offsetLeft),h("drawingY",e.offsetTop),h("startAt",l),h("width",e.width),h("height",e.height),h("zIndex",e.zIndex),h("border",e.border),h("meta",e.meta)}),[]);var W=function(e){if(e.preventDefault(),e.stopPropagation(),!he(e))switch(n){case i.NORMAL:!function(e,t,n,a,r,o,i,s,l,d){var c,u;if(t.current&&n){var h=document.querySelector(".Kalend__Calendar__table").getBoundingClientRect(),f=document.getElementById("Kalend__day__".concat(n.toString()));if(f){var y,v,m=f.getBoundingClientRect(),_=null===(c=e.nativeEvent)||void 0===c||null===(u=c.touches)||void 0===u?void 0:u[0];_?(y=_.clientX-m.x,v=_.clientY-m.top):(y=e.clientX-m.x,v=e.clientY-m.top);var p=Math.floor(y/a),g=e.clientX-h.x,w=Math.round(g/a);v<0||(o.current=!0,d("offsetTop",v-j),l.current=v-j,w*a>=r||g-T<0||(i.current=p,d("offsetLeft",p*a),s.current=y))}}}(e,x,r,V,E,b,w,p,f,h);break;case i.HEADER:!function(e,t,n,a,r,o,i){var s,l,d,c=document.querySelector(".Kalend__Calendar__table").getBoundingClientRect(),u=null===(s=e.nativeEvent)||void 0===s||null===(l=s.touches)||void 0===l?void 0:l[0];d=u?u.clientX-c.x:e.clientX-c.x-T;var h=Math.floor(d/t),f=e.clientX-c.x;Math.round(f/t)*t>=n||f<0||f<t/2||(a.current=h,i("offsetLeft",h*t+1),o.current=!0,r.current=d)}(e,V,E,w,p,b,h);break;case i.MONTH:!function(e,t,n,a,r,o,i,s,l,d,c,u,h){var f,y,v=t/6;if(n.current&&a){var m,_,p=document.querySelector(".Kalend__Calendar__table").getBoundingClientRect(),g=e.clientX-p.x,w=e.clientY-p.y,D=null===(f=e.nativeEvent)||void 0===f||null===(y=f.touches)||void 0===y?void 0:y[0];D?(m=D.clientX-p.x,_=D.clientY-p.y):(m=e.clientX-p.x,_=e.clientY-p.y);var x=w-h*v,b=Math.floor(m/r),S=Math.floor(x/v),j=parseInt((g/r).toString()),T=parseInt((w/v).toString());Math.round(g/r)*r>=o||g<0||S*v>=t||w<0||_>=t||(i.current=j,s.current=T,u("offsetLeft",b*r+1),u("offsetTop",S*v),l.current=!0,d.current=m,c.current=_)}}(e,k,x,r,V,E,w,D,b,p,f,h,o||0);break;default:return}},U=function(e){if(document.removeEventListener("mouseup",U,!0),document.removeEventListener("mousemove",W,!0),clearTimeout(oe),!b.current)return h("offsetLeft",c.offsetLeft),h("width",c.width),h("isDragging",!1),void(x.current=!1);if(b.current=!1,x.current){if(setTimeout((function(){x.current=!1,h("isDragging",!1)}),100),H||N.hasExternalLayout){var t=null;n===i.NORMAL?t=function(e,t,n,a,r){var o,i=_.DateTime.fromISO(a.startAt),s=_.DateTime.fromISO(a.endAt);o=t>=0?i.plus({days:n.current}):i.minus({days:Math.abs(n.current)});var l=s.diff(i,"minutes").toObject().minutes,d=e/r*60,c=i.set({year:o.year,day:o.day,month:o.month,hour:0,minute:0}).plus({minutes:d}),u=c.plus({minutes:l});return y.objectSpread({},a,{startAt:c.toUTC().toString(),endAt:u.toUTC().toString()})}(f.current,p.current,w,s,O):n===i.HEADER?t=function(e,t,n){var a=_.DateTime.fromISO(t.startAt),r=_.DateTime.fromISO(t.endAt),o=e.map((function(e){return e}))[n.current],i=r.diff(a,"minutes").toObject().minutes,s=a.set({year:o.year,day:o.day,month:o.month,hour:a.hour,minute:a.minute}),l=s.plus({minutes:i});return y.objectSpread({},t,{startAt:s.toUTC().toString(),endAt:l.toUTC().toString()})}(M,s,w):n===i.MONTH&&(t=function(e,t,n,a){var r=[],o=[];e.forEach((function(e){(7===o.length||5===r.length&&6===o.length)&&(o.push(e),r.push(o),o=[]),o.push(e)}));var i=r[t.current][n.current],s=_.DateTime.fromISO(a.startAt),l=_.DateTime.fromISO(a.endAt).diff(s,"minutes").toObject().minutes,d=s.set({year:i.year,day:i.day,month:i.month,hour:s.hour,minute:s.minute}),c=d.plus({minutes:l});return y.objectSpread({},a,{startAt:d.toUTC().toString(),endAt:c.toUTC().toString()})}(M,D,w,s)),t&&function(e,t,n,a,r,o){var i=n.events,s=null===i||void 0===i?void 0:i.map((function(e){return e.id===t.id?t:e}));o&&o(e,t,s)}(s,t,C,0,0,H)}e.preventDefault(),e.stopPropagation()}},Y=function(e){he(e)||(h("isDragging",!0),x.current=!0,e.preventDefault(),e.stopPropagation(),0===e.button&&(document.addEventListener("mousemove",W,!0),document.addEventListener("mouseup",U,!0),n!==i.AGENDA&&(x.current||(x.current=!0),n===i.NORMAL&&(h("width",V-8),h("offsetLeft",0)))))},q=function(e){e.preventDefault(),e.stopPropagation(),oe=setTimeout((function(){Y(e)}),120)};return v.jsxs(fe,{id:s.id,isDark:K,style:F,className:"Kalend__Event-".concat(n," ").concat(c.isDragging?"Kalend__EventButton__elevation":""),onClick:function(e){e.preventDefault(),e.stopPropagation(),x.current?x.current=!1:L&&L(s)},onMouseDown:q,onMouseUp:U,onTouchStart:q,onTouchMove:W,onTouchEnd:U,children:[n===i.MONTH||n===i.HEADER?v.jsx(pe,{event:s,isDark:K,type:n}):null,n===i.NORMAL?v.jsx(ge,{event:s,isDark:K,type:n,meta:t.meta}):null,n===i.AGENDA?v.jsx(_e,{event:s,isDark:K,type:n}):null,n===i.SHOW_MORE_MONTH?v.jsx(we,{event:s,isDark:K,type:n}):null]})},be=function(e){var t=e.day,n=function(e){if(!e||0===e.length)return[];var t=null===e||void 0===e?void 0:e.sort((function(e,t){return _.DateTime.fromISO(e.startAt).toMillis()-_.DateTime.fromISO(t.startAt).toMillis()}));return t.map((function(e){return v.jsx(xe,{item:{event:e},type:i.AGENDA},"".concat(e.id).concat(e.internalID?e.internalID:""))}))}(e.events);return v.jsxs("div",{className:"Kalend__AgendaDayRow__container",children:[v.jsxs("div",{className:"Kalend__AgendaDayRow__container-day",children:[v.jsx(ce,{day:t,width:50}),v.jsx(de,{width:50,day:t})]}),v.jsx("div",{className:"Kalend__AgendaDayRow__events",children:n})]})},Se=function(e,t){return t.map((function(t){if(!!e[t.toFormat(R)])return v.jsx(be,{day:t,events:e[t.toFormat(R)]},t.toString())}))},je=function(e){var t=e.events,n=e.eventLayouts,a=y.slicedToArray(m.useState(!1),2),o=a[0],i=a[1],s=y.slicedToArray(m.useState(null),2),l=s[0],d=s[1],c=y.slicedToArray(m.useContext(se),2),u=c[0],h=c[1],f=function(e,t){h({type:e,payload:t})},_=u.calendarDays,g=u.width,w=u.height,D=void 0!==n;return m.useEffect((function(){D||(x(p)({events:t,selectedView:r.AGENDA,height:w,width:g,calendarDays:[],config:u.config}).then((function(e){f("layoutUpdateSequence",u.layoutUpdateSequence+1);var t=Se(e.events,_);d(t)})),i(!0))}),[_[0]]),m.useEffect((function(){o&&(D||x(p)({events:t,selectedView:r.AGENDA,height:w,width:g,calendarDays:[],config:u.config}).then((function(e){f("layoutUpdateSequence",u.layoutUpdateSequence+1);var t=Se(e.events,_);d(t)})))}),[JSON.stringify(t)]),m.useEffect((function(){if(D&&H(e.eventLayouts.selectedView)===r.AGENDA){var t;f("layoutUpdateSequence",u.layoutUpdateSequence+1);var n=Se(null===(t=e.eventLayouts)||void 0===t?void 0:t.events,_);d(n)}}),[JSON.stringify(e.eventLayouts)]),v.jsx("div",{className:"Kalend__Agenda__container",style:{height:"100%"},children:l})},Te={ChevronDown:function(e){return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:e.className,children:v.jsx("g",{"data-name":"Layer 2",children:v.jsxs("g",{"data-name":"chevron-down",children:[v.jsx("rect",{width:"24",height:"24",opacity:"0"}),v.jsx("path",{d:"M12 15.5a1 1 0 0 1-.71-.29l-4-4a1 1 0 1 1 1.42-1.42L12 13.1l3.3-3.18a1 1 0 1 1 1.38 1.44l-4 3.86a1 1 0 0 1-.68.28z"})]})})})},ChevronLeft:function(e){return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:e.className,children:v.jsx("g",{"data-name":"Layer 2",children:v.jsxs("g",{"data-name":"chevron-left",children:[v.jsx("rect",{width:"24",height:"24",transform:"rotate(90 12 12)",opacity:"0"}),v.jsx("path",{d:"M13.36 17a1 1 0 0 1-.72-.31l-3.86-4a1 1 0 0 1 0-1.4l4-4a1 1 0 1 1 1.42 1.42L10.9 12l3.18 3.3a1 1 0 0 1 0 1.41 1 1 0 0 1-.72.29z"})]})})})},ChevronRight:function(e){return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:e.className,children:v.jsx("g",{"data-name":"Layer 2",children:v.jsxs("g",{"data-name":"chevron-right",children:[v.jsx("rect",{width:"24",height:"24",transform:"rotate(-90 12 12)",opacity:"0"}),v.jsx("path",{d:"M10.5 17a1 1 0 0 1-.71-.29 1 1 0 0 1 0-1.42L13.1 12 9.92 8.69a1 1 0 0 1 0-1.41 1 1 0 0 1 1.42 0l3.86 4a1 1 0 0 1 0 1.4l-4 4a1 1 0 0 1-.7.32z"})]})})})},Calendar:function(e){return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:e.className,fill:e.fill,children:v.jsx("g",{"data-name":"Layer 2",children:v.jsxs("g",{"data-name":"calendar",children:[v.jsx("rect",{width:"24",height:"24",opacity:"0"}),v.jsx("path",{d:"M18 4h-1V3a1 1 0 0 0-2 0v1H9V3a1 1 0 0 0-2 0v1H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3zM6 6h1v1a1 1 0 0 0 2 0V6h6v1a1 1 0 0 0 2 0V6h1a1 1 0 0 1 1 1v4H5V7a1 1 0 0 1 1-1zm12 14H6a1 1 0 0 1-1-1v-6h14v6a1 1 0 0 1-1 1z"}),v.jsx("circle",{cx:"8",cy:"16",r:"1"}),v.jsx("path",{d:"M16 15h-4a1 1 0 0 0 0 2h4a1 1 0 0 0 0-2z"})]})})})},More:function(e){return v.jsx("svg",{className:e.className,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:v.jsx("g",{"data-name":"Layer 2",children:v.jsxs("g",{"data-name":"more-vertical",children:[v.jsx("rect",{width:"24",height:"24",transform:"rotate(-90 12 12)",opacity:"0"}),v.jsx("circle",{cx:"12",cy:"12",r:"2"}),v.jsx("circle",{cx:"12",cy:"5",r:"2"}),v.jsx("circle",{cx:"12",cy:"19",r:"2"})]})})})}},Ce=function(e,t,n,a,r){var o=G(n,e,t,(function(e){r&&r("selectedDate",e)}),a);return r&&r("calendarDays",o),o},Ee=y.asyncToGenerator(x(w).mark((function e(t,n,a,r){var o;return x(w).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=void 0===r?_.DateTime.now():r,Ce([o],t,l.TODAY,a,n);case 2:case"end":return e.stop()}}),e)}))),Me=function(e){var t=y.slicedToArray(m.useState(!1),2),n=t[0],a=t[1],r=e.children,o=e.onClick,i=e.size,s=e.disabled,l=e.isDark,d=e.iconSize,c=e.noActive,u=e.backdropClassName,h=e.style,f=i?"Kalend__ButtonIcon__container-".concat(i):"Kalend__ButtonIcon__container",_=u||"Kalend__ButtonIcon__backdrop",p="".concat(s?"Kalend__ButtonIcon__disabled ":"",c?"Kalend__ButtonIcon-inactive":"Kalend__ButtonIcon"),g=x(m).cloneElement(r,{className:"Kalend__ButtonIcon__svg".concat(d?"-".concat(d):"-normal")});return v.jsx("div",{className:f,style:h,children:v.jsxs("button",{className:M(p,l),onClick:o,disabled:s,onTouchStart:function(){return a(!0)},onTouchEnd:function(e){return a(!1)},children:[g,n?v.jsx("div",{className:_}):null]})})},Ne=function(e){var t=e.buttonData,n=e.setViewChanged,a=e.handleClose,r=e.isForcedMobile,o=y.slicedToArray(m.useContext(se),1)[0],i=o.isDark,s=o.selectedView,l=o.isMobile,d=t.value===s,c="Kalend__header_calendar_button".concat(d?"-selected":""),u="Kalend__text Kalend__header_calendar_button-text".concat(d?"-selected":"");return v.jsx(fe,{className:N(c,l||r),isDark:i,onClick:function(){a&&a(),n(t.value)},children:v.jsx("p",{className:N(u,l,i),children:t.label})})},Ae=function(e){return!(!e||e&&(null===e||void 0===e?void 0:e.length)+1!==Object.values(r).length)},ke=function(e){var t=e.disabledViews,n=e.setViewChanged,a=e.handleClose,o=e.isForcedMobile,i=y.slicedToArray(m.useContext(se),1)[0],s=i.isDark,l=i.isMobile,d=i.translations;return Ae(t)?null:v.jsxs("div",{className:N("Kalend__header_calendar_buttons__container",!(!l&&!o),s),children:[(null===t||void 0===t?void 0:t.includes(r.AGENDA))?null:v.jsx(Ne,{buttonData:{label:d.buttons.agenda,value:r.AGENDA},setViewChanged:n,handleClose:a,isForcedMobile:o}),(null===t||void 0===t?void 0:t.includes(r.DAY))?null:v.jsx(Ne,{buttonData:{label:d.buttons.day,value:r.DAY},setViewChanged:n,handleClose:a,isForcedMobile:o}),(null===t||void 0===t?void 0:t.includes(r.THREE_DAYS))?null:v.jsx(Ne,{buttonData:{label:d.buttons.threeDays,value:r.THREE_DAYS},setViewChanged:n,handleClose:a,isForcedMobile:o}),(null===t||void 0===t?void 0:t.includes(r.WEEK))?null:v.jsx(Ne,{buttonData:{label:d.buttons.week,value:r.WEEK},setViewChanged:n,handleClose:a,isForcedMobile:o}),(null===t||void 0===t?void 0:t.includes(r.MONTH))?null:v.jsx(Ne,{buttonData:{label:d.buttons.month,value:r.MONTH},setViewChanged:n,handleClose:a,isForcedMobile:o})]})},Oe=function(e){var t=e.setViewChanged,n=y.slicedToArray(m.useState(!1),2),a=n[0],r=n[1],o=y.slicedToArray(m.useContext(se),1)[0],i=o.config,s=o.isMobile,l=o.selectedView,d=o.translations,c=i.isDark,u=i.disabledViews,h=i.disableMobileDropdown,f=function(){return r(!0)},_=function(){return r(!1)};return s&&(h||Ae(u))||Ae(u)?null:v.jsx(v.Fragment,{children:v.jsxs("div",{className:"Kalend__CalendarViewDropdown__wrapper",children:[s?v.jsx(Me,{isDark:c,onClick:f,children:v.jsx(Te.More,{className:M("icon-svg",c)})},"calendar"):v.jsx(fe,{isDark:c,className:"Kalend__ButtonBase-border",onClick:f,text:L(l,d)}),a?v.jsx("div",{className:"Kalend__CalendarViewDropdown__backdrop",onClick:_}):null,a?v.jsx("div",{className:"Kalend__CalendarViewDropdown__container",children:v.jsx("div",{className:"Kalend__CalendarViewDropdown__container-content",onClick:function(e){e.preventDefault(),e.stopPropagation()},children:v.jsx(ke,{disabledViews:u,setViewChanged:t,handleClose:_,isForcedMobile:!0})})}):null]})})},Ke=function(e){var t=e.children;return y.slicedToArray(m.useContext(se),1)[0].isMobile?null:v.jsx("div",{className:"Kalend__DesktopLayout",children:t})},Le=function(e){var t=e.title,n=y.slicedToArray(m.useContext(se),1)[0],a=n.isDark,r=n.isMobile;return v.jsx("div",{className:N("Kalend__HeaderCalendarTitle__container",r),children:v.jsx("p",{className:N("Kalend__text Kalend__HeaderCalendarTitle",r,a),children:t})})},He=function(e){var t=e.children,n=e.style;return y.slicedToArray(m.useContext(se),1)[0].isMobile?v.jsx("div",{className:"Kalend__MobileLayout",style:n,children:t}):null},Ve=function(e){var t=y.slicedToArray(m.useContext(se),2),n=t[0],a=t[1],r=function(e,t){a({type:e,payload:t})},o=n.config,i=n.calendarDays,s=n.selectedView,d=n.selectedDate,c=n.isMobile,u=n.width,h=n.translations,f=o.weekDayStart,p=o.isDark,g=y.slicedToArray(m.useState(!0),2),D=g[0],b=g[1],S=_.DateTime.fromISO(d),j="".concat(h.months["".concat(S.toFormat("MMMM").toLowerCase())]," ").concat(S.toFormat("yyyy")),T=y.asyncToGenerator(x(w).mark((function e(){return x(w).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r("calendarContent",null),r("direction",l.BACKWARDS),Ce(i,s,l.BACKWARDS,f,r);case 3:case"end":return e.stop()}}),e)}))),C=y.asyncToGenerator(x(w).mark((function e(){return x(w).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r("calendarContent",null),r("direction",l.FORWARD),Ce(i,s,l.FORWARD,f,r);case 3:case"end":return e.stop()}}),e)}))),E=y.asyncToGenerator(x(w).mark((function e(){return x(w).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r("calendarContent",null),r("direction",l.TODAY),e.next=4,Ee(s,r,f,_.DateTime.now());case 4:case"end":return e.stop()}}),e)})));return m.useEffect((function(){var e=document.querySelector(".Kalend__CalendarDesktopNavigation__container");e&&e&&(e.getBoundingClientRect().width<=950?b(!0):b(!1))}),[u]),m.useEffect((function(){e.kalendRef&&(e.kalendRef.current={navigateToTodayDate:E,navigateForward:C,navigateBackwards:T})}),[]),m.useEffect((function(){e.kalendRef&&(e.kalendRef.current={navigateToTodayDate:E,navigateForward:C,navigateBackwards:T})}),[s,i[0].toString()]),e.kalendRef?null:v.jsxs("div",{className:N("Kalend__CalendarDesktopNavigation__container",c,p),children:[v.jsxs("div",{style:{display:"flex",flexDirection:"row",width:c?"100%":"auto"},children:[v.jsx(Ke,{children:v.jsx("div",{className:"Kalend__CalendarDesktopNavigation__buttons",children:v.jsxs(v.Fragment,{children:[v.jsx(fe,{className:"Kalend__ButtonBase-border",isDark:p,onClick:E,children:h.buttons.today}),v.jsx(Me,{isDark:p,onClick:T,children:v.jsx(Te.ChevronLeft,{className:M("Kalend__icon-svg",p)})},"left"),v.jsx(Me,{isDark:p,onClick:C,children:v.jsx(Te.ChevronRight,{className:M("Kalend__icon-svg",p)})},"right")]})})}),v.jsx(Le,{title:j}),v.jsx(He,{style:{width:"100%"},children:v.jsx("div",{className:"Kalend__CalendarDesktopNavigation__buttons",children:v.jsxs(v.Fragment,{children:[v.jsx(Me,{isDark:p,onClick:T,children:v.jsx(Te.ChevronLeft,{className:M("Kalend__icon-svg",p)})},"left"),v.jsx(Me,{isDark:p,onClick:C,children:v.jsx(Te.ChevronRight,{className:M("Kalend__icon-svg",p)})},"right"),v.jsx(Me,{isDark:p,onClick:E,children:v.jsx(Te.Calendar,{className:M("Kalend__icon-svg",p)})},"calendar"),v.jsx(Oe,{disabledViews:e.disabledViews,setViewChanged:e.setViewChanged,disableMobileDropdown:e.disableMobileDropdown})]})})})]}),v.jsx("div",{style:{display:"flex",flexDirection:"row",marginRight:12,justifyContent:"flex-end",flex:"auto"},children:v.jsx(Ke,{children:D?v.jsx(Oe,{disabledViews:e.disabledViews,setViewChanged:e.setViewChanged,disableMobileDropdown:e.disableMobileDropdown}):v.jsx(ke,{disabledViews:e.disabledViews,setViewChanged:e.setViewChanged})})})]})},Re=function(e){var t=e.children;return v.jsx("div",{className:"Kalend__CalendarHeaderColText__container",children:t})},Fe=function(e){var t=e.children,n=y.slicedToArray(m.useContext(se),1)[0].isDark;return v.jsx("div",{className:M("Kalend__CalendarHeaderCol",n),children:t})},We=function(e){var t=y.slicedToArray(m.useContext(se),1)[0],n=t.width,a=t.isMobile,r=t.selectedView,o=e.daysNum,i=e.calendarDays,s=V(n,a,r)/o,l=i.map((function(e){return v.jsx(de,{width:s,day:e},e.toString())}));return v.jsx(Fe,{children:v.jsx(Re,{children:l})})},Ie=function(e){var t=e.daysNum,n=e.days,a=y.slicedToArray(m.useContext(se),1)[0],o=a.width,i=a.selectedView,s=a.isMobile,l=a.config,d=a.translations,u=l.weekDayStart,h=i===r.MONTH,f=h?o/t:V(o,s,i)/t,_=u===c.SUNDAY?Y:U,p=function(){var e={width:f};return h?_.map((function(t){return v.jsx("div",{className:"Kalend__CalendarHeaderWeekDays__col",style:e,children:v.jsx("p",{className:"Kalend__text Kalend__CalendarHeaderWeekDays__text",children:d.weekDays["".concat(t)]})},t)})):n.map((function(e){return v.jsx(ce,{day:e,width:f},e.toString())}))}();return v.jsx("div",{className:"Kalend__CalendarHeaderWeekDays__wrapper",children:v.jsx("div",{className:"Kalend__CalendarHeaderWeekDays__container",children:p})})},Ue=function(e){var t=e.children,n=e.isMonthView,a=y.slicedToArray(m.useContext(se),1)[0],r=a.width,o=a.rawWidth,i=a.isDark,s={paddingLeft:n?0:T,width:n?o:r};return v.jsx("div",{className:M("Kalend__CalendarHeaderCol",i),style:s,children:t})},Ye=function(e){var t=e.isMonthView,n=y.slicedToArray(m.useContext(se),1)[0].calendarDays,a=t?7:n.length;return v.jsxs(Ue,{isMonthView:t,children:[v.jsx(Re,{children:v.jsx(Ie,{daysNum:a,days:n})}),t?null:v.jsx(Re,{children:v.jsx(We,{calendarDays:n,daysNum:a})})]})},qe=function(){var e=y.slicedToArray(m.useContext(se),1)[0],t=e.selectedView,n=e.width,a=e.calendarDays,r={width:n/B(t)},o=a.map((function(e){return v.jsx("div",{className:"Kalend__CalendarHeaderEvents__col-wrapper",style:r},e.toString())})),s=y.slicedToArray(m.useState(null),2),l=s[0],d=s[1],c={height:e.headerEventRowsCount+20};return m.useEffect((function(){var t,n,a=(t=e.headerLayout,n=e.layoutUpdateSequence+1,null===t||void 0===t?void 0:t.map((function(e){return v.jsx(xe,{item:e,type:i.HEADER},"".concat(e.event.id).concat(e.event.internalID?e.event.internalID:"")+n)})));d(a)}),[JSON.stringify(e.headerLayout)]),v.jsxs("div",{className:"Kalend__CalendarHeaderEvents__container",style:c,children:[v.jsx("div",{className:"Kalend__CalendarHeaderEvents__row",children:o}),l]})},Be=function(){var e=y.slicedToArray(m.useContext(se),1)[0],t=e.isDark,n=e.width,a=e.selectedView,o=a===r.DAY,i=a===r.MONTH;return v.jsxs("div",{className:"Kalend__CalendarHeader".concat(i?"":"-tall").concat(o?"-day":"").concat(i?"-small":"").concat(t?"-dark":""),children:[v.jsx(Ye,{width:n,isMonthView:i}),!i&&e.headerLayout?v.jsx(qe,{}):null]})},Pe=function(e){var t=y.slicedToArray(m.useContext(se),1)[0],n=t.calendarDays,a=t.selectedView,r=t.callbacks,o=t.config,i=t.width,s=t.direction,l=y.slicedToArray(m.useState(!1),2),d=l[0],c=l[1];return m.useEffect((function(){document.querySelector(".Kalend__Calendar__table")&&c(!0)}),[document.querySelector(".Kalend__Calendar__table")]),m.useLayoutEffect((function(){if(r.onStateChange&&d){var e={selectedView:a,calendarDays:n,range:y.objectSpread({},X(n),{direction:s}),width:i,config:o,isMobile:t.isMobile,height:t.height,selectedDate:t.selectedDate.toUTC().toString()};r.onStateChange(e)}}),[a,JSON.stringify(n),i,JSON.stringify(o),t.isMobile,d,s]),m.useEffect((function(){if(r.onStateChange&&d){var e={selectedView:a,calendarDays:n,range:y.objectSpread({},X(n),{direction:s}),width:i,config:o,isMobile:t.isMobile,height:t.height,selectedDate:t.selectedDate.toUTC().toString()};r.onStateChange(e)}}),[]),d?e.children:null},ze=function(e,t,n,a){return function(e){var t=[];if(e===h.H_24)for(var n=0;n<24;n++)n<10?t.push("0".concat(n)):t.push(String(n));else if(e===h.H_12)for(var a=0;a<24;a++)a<12?t.push("".concat(a," AM")):12===a?t.push("".concat(a," PM")):t.push("".concat(a-12," PM"));return t}(a).map((function(a){return"00"===a||"24"===a?v.jsx("div",{className:"Kalend__CalendarBodyHours__container",style:{minHeight:t}},a):v.jsxs("div",{className:"Kalend__CalendarBodyHours__container",style:{minHeight:t},children:[v.jsx("p",{className:M("Kalend__text Kalend__CalendarBodyHours__text",n),children:a}),v.jsx("div",{className:M("Kalend__text Kalend__CalendarBodyHours__line",n),style:{width:e-T}})]},a)}))},Je=function(){var e=y.slicedToArray(m.useContext(se),1)[0],t=e.width,n=e.config,a=e.isDark,r=e.height,o=n.hourHeight,i=n.timeFormat,s=ze(t,o,a,i);return v.jsx("div",{className:"Kalend__CalendarBodyHours__wrapper",style:{height:r},children:s})},Ge=function(e,t){return e.map((function(e){var n=e.event;return v.jsx(xe,{item:e,type:i.NORMAL,meta:n.meta,day:t},"".concat(n.id).concat(n.internalID?n.internalID:""))}))},Xe=function(e){var t,n=e.day,a=e.index,r=e.data,o=y.slicedToArray(m.useContext(se),1)[0],i=o.width,s=o.selectedView,l=o.config,d=o.callbacks.onNewEventClick,c=l.isDark,u=l.hourHeight,h={width:i/B(s),height:24*u},f=W.isToday(n),p=0===a,g=r,w=_.DateTime.local().diff(_.DateTime.local().set({hour:0,minute:0,second:0}),"minutes").toObject().minutes/(60/u);m.useEffect((function(){if(f){var e=document.querySelectorAll(".calendar-body__wrapper"),t=!0,n=!1,a=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){r.value.scrollTo({top:w-40,behavior:"smooth"})}}catch(i){n=!0,a=i}finally{try{t||null==o.return||o.return()}finally{if(n)throw a}}}}),[]);var D=function(e){if(d){var t=e.target.getBoundingClientRect(),a=(e.clientY-t.top)/u;d({day:n.toJSDate(),hour:a,event:e})}};return(null===(t=o.daysViewLayout)||void 0===t?void 0:t[A(n)])?v.jsx("div",{id:"Kalend__day__".concat(n.toString()),style:h,className:p?"Kalend__DayViewOneDay":M("Kalend__DayViewOneDay",c),onClick:D,children:g&&g.length>0?Ge(g,n):null},n.toString()):v.jsx("div",{id:"Kalend__day__".concat(n.toString()),style:h,className:p?"Kalend__DayViewOneDay":M("Kalend__DayViewOneDay",c),onClick:D},n.toString())},Ze=function(){var e=y.slicedToArray(m.useContext(se),1)[0],t=e.calendarDays,n=e.width,a=e.isDark,o=(e.height,e.config),i=e.isMobile,s=e.selectedView,l=function(e,t,n,a,o,i,s){var l=V(t,i,s)/e.length;return e.map((function(e,t){var n={left:l*t+(s===r.MONTH?0:T),height:24*a};if(t>0)return v.jsx("div",{style:n,className:M("Kalend__DaysViewVerticalLine__line",o)},t)}))}(s===r.MONTH?t.slice(0,7):t,n,0,o.hourHeight,a,i,s);return v.jsx(v.Fragment,{children:l})},Qe=function(e,t,n){return e.map((function(e,a){var r=A(e);return v.jsx(Xe,{day:e,index:a,data:t?t[r]:[]},r+n)}))},$e=function(e){var t=e.events,n=y.slicedToArray(m.useState(!1),2),a=n[0],o=n[1],i=y.slicedToArray(m.useState(null),2),s=i[0],l=i[1],d=y.slicedToArray(m.useContext(se),2),c=d[0],u=d[1],h=function(e,t){u({type:e,payload:t})},f=c.isMobile,_=c.calendarDays,g=c.width,w=c.selectedView,D=c.height,b={paddingLeft:T,height:"100%"},S=void 0!==e.eventLayouts;return m.useLayoutEffect((function(){a&&(S||x(p)({events:t,width:g,height:D,calendarDays:_,config:c.config,isMobile:f,selectedView:w}).then((function(e){h("headerLayout",e.headerPositions),h("headerEventRowsCount",e.headerOffsetTop),h("daysViewLayout",e.normalPositions),h("layoutUpdateSequence",c.layoutUpdateSequence+1);var t=Qe(c.calendarDays,e.normalPositions,void 0);l(t)})))}),[_[0]]),m.useLayoutEffect((function(){a&&(S||x(p)({events:t,width:g,height:D,calendarDays:_,config:c.config,isMobile:f,selectedView:w}).then((function(e){h("headerLayout",e.headerPositions),h("headerEventRowsCount",e.headerOffsetTop),h("daysViewLayout",e.normalPositions),h("layoutUpdateSequence",c.layoutUpdateSequence+1);var t=Qe(c.calendarDays,e.normalPositions,c.layoutUpdateSequence+1);l(t)})))}),[g]),m.useLayoutEffect((function(){S||x(p)({events:t,width:g,height:D,calendarDays:_,config:c.config,isMobile:f,selectedView:w}).then((function(e){h("headerLayout",e.headerPositions),h("headerEventRowsCount",e.headerOffsetTop),h("daysViewLayout",e.normalPositions),h("layoutUpdateSequence",c.layoutUpdateSequence+1);var t=Qe(c.calendarDays,e.normalPositions,c.layoutUpdateSequence+1);l(t)}))}),[JSON.stringify(t)]),m.useLayoutEffect((function(){S||x(p)({events:t,width:g,height:D,calendarDays:_,config:c.config,isMobile:f,selectedView:w}).then((function(e){h("headerLayout",e.headerPositions),h("headerEventRowsCount",e.headerOffsetTop),h("daysViewLayout",e.normalPositions),h("layoutUpdateSequence",c.layoutUpdateSequence+1);var t=Qe(c.calendarDays,e.normalPositions,c.layoutUpdateSequence+1);l(t)})),o(!0)}),[]),m.useLayoutEffect((function(){if(S&&H(e.eventLayouts.selectedView)===r.WEEK){h("headerLayout",e.eventLayouts.headerPositions),h("headerEventRowsCount",e.eventLayouts.headerOffsetTop),h("daysViewLayout",e.eventLayouts.normalPositions),h("layoutUpdateSequence",c.layoutUpdateSequence+1);var t=Qe(c.calendarDays,e.eventLayouts.normalPositions,c.layoutUpdateSequence+1);l(t)}}),[e.eventLayouts,JSON.stringify(e.eventLayouts)]),v.jsxs("div",{style:b,className:"Kalend__CalendarBody",id:"Kalend__timetable",children:[v.jsx(Je,{}),v.jsx(Ze,{}),s]})},et=function(e){var t=[],n=[];return e.forEach((function(e,a){(a+1)%7===0?(n.push(e),t.push(n),n=[]):n.push(e)})),t},tt=function(e){var t=y.slicedToArray(m.useContext(se),1)[0],n=t.translations,a=t.height,r=y.slicedToArray(m.useState(!1),2),o=r[0],i=r[1],s=y.slicedToArray(m.useState({x:null,y:null}),2),l=s[0],d=s[1];m.useLayoutEffect((function(){if(o){var e=document.getElementById("Kalend__Dropdown__container");if(e){var t=l.x,n=l.y;e.offsetHeight+l.y>window.innerHeight&&(n=l.y-e.offsetHeight),e.offsetWidth+l.x>window.innerWidth&&(t=l.x-e.offsetWidth),d({x:t,y:n})}}}),[o,document.getElementsByClassName("Kalend__Dropdown__container")]);var c=function(){if(l.x)return{left:l.x,top:l.y,maxWidth:300,maxHeight:a-24,minWidth:120,height:"auto",overflowX:"hidden",overflowY:"auto"}}();return v.jsxs(v.Fragment,{children:[v.jsx(fe,{className:"Kalend__Monthview_Event",style:{width:e.width,display:"flex",justifyContent:"center",alignItems:"center",height:20},onClick:function(e){var t=e.nativeEvent,n=t.x,a=t.y;d({x:n,y:a}),i(!0)},isDark:!1,children:v.jsx("p",{className:"Kalend__text",style:{fontSize:11},children:n.buttons.showMore})}),o?v.jsx("div",{className:"Kalend__Dropdown__backdrop",onClick:function(){return i(!1)},children:v.jsx("div",{className:"Kalend__Dropdown__container",id:"Kalend__Dropdown__container",style:c,children:e.children})}):null]})},nt=function(e){var t=y.slicedToArray(m.useContext(se),2),n=t[0],a=t[1],r=n.width,o=n.monthOverflowEvents,s=e.calendarDays,l=r/7,d=function(e,t){a({type:"showMoreEvents",payload:{day:e,events:t}})},c=o&&s&&0!==s.length?s.map((function(e){var t=A(e),n=o[t];return n?v.jsx(tt,{onClick:function(){return d(e,n)},width:l,children:v.jsxs(v.Fragment,{children:[v.jsx("h6",{style:{fontSize:16,padding:0,margin:4,marginBottom:8,textAlign:"center"},children:e.toFormat("dd. MMM")}),null===n||void 0===n?void 0:n.map((function(e){return v.jsx(xe,{item:{event:e},type:i.SHOW_MORE_MONTH},"".concat(e.id).concat(e.internalID?e.internalID:""))}))]})},e.toString()):v.jsx("div",{style:{width:l,visibility:"hidden"}},e.toString())})):[];return v.jsx("div",{style:{width:"100%",display:"flex",flexDirection:"row",position:"absolute",bottom:3,left:0},children:c})},at=function(e){var t,n,a=e.days,r=e.index,o=e.itemRows,s=y.slicedToArray(m.useContext(se),1)[0],l=s.monthLayout,d=s.height,c=(n=r,(t=l)&&(null===t||void 0===t?void 0:t[n])?o.map((function(e){return v.jsx(xe,{item:y.objectSpread({},e),meta:e.meta,type:i.MONTH,index:n},"".concat(e.event.id).concat(e.event.internalID?e.event.internalID:""))})):[]),u={height:d/6-25};return v.jsxs("div",{className:"Kalend__MonthWeekRow__container",children:[v.jsx("div",{className:"Kalend__MonthWeekRow__day",children:v.jsx(We,{calendarDays:a,daysNum:7})}),v.jsx("div",{className:"Kalend__MonthWeekRow__container-events",style:u,children:c}),v.jsx(nt,{calendarDays:a})]})},rt=function(e,t,n){return et(e).map((function(e,a){return v.jsx(at,{days:e,index:a,itemRows:t?t[a]:[],sequence:n},e[0].toString()+n)}))},ot=function(e){var t=y.slicedToArray(m.useState(!1),2),n=t[0],a=t[1],o=y.slicedToArray(m.useState(null),2),i=o[0],s=o[1],l=e.events,d=y.slicedToArray(m.useContext(se),2),c=d[0],u=d[1],h=function(e,t){u({type:e,payload:t})},f=c.rawWidth,_=c.calendarDays,g=c.height,w={width:f,height:"100%"},D=void 0!==e.eventLayouts;return m.useEffect((function(){0!==g&&(D||x(p)({events:l,width:f,height:g,calendarDays:_,config:c.config,selectedView:r.MONTH}).then((function(e){a(!0),h("monthLayout",e.positions),h("monthOverflowEvents",e.overflowingEvents),h("layoutUpdateSequence",c.layoutUpdateSequence+1);var t=rt(_,e.positions,c.layoutUpdateSequence);s(t)})))}),[g,f]),m.useEffect((function(){n&&0!==g&&(D||x(p)({events:l,width:f,height:g,calendarDays:_,config:c.config,selectedView:r.MONTH}).then((function(e){h("monthLayout",e.positions),h("monthOverflowEvents",e.overflowingEvents),h("layoutUpdateSequence",c.layoutUpdateSequence+1);var t=rt(_,e.positions,c.layoutUpdateSequence);s(t)})))}),[_[0],JSON.stringify(l)]),m.useEffect((function(){if(D&&H(e.eventLayouts.selectedView)===r.MONTH){h("monthLayout",e.eventLayouts.positions),h("monthOverflowEvents",e.eventLayouts.overflowingEvents),h("layoutUpdateSequence",c.layoutUpdateSequence+1);var t=rt(_,e.eventLayouts.positions,c.layoutUpdateSequence);s(t)}}),[JSON.stringify(e.eventLayouts)]),v.jsxs("div",{className:"Kalend__MonthView__container",style:w,children:[v.jsx(Ze,{}),i]})},it=function(e){var t=y.slicedToArray(m.useContext(se),2),n=t[0],a=t[1],o=function(e,t){a({type:e,payload:t})},i=n.selectedDate,s=n.calendarDays,l=n.selectedView,d=n.callbacks,c=n.config,u=n.width,h=y.slicedToArray(m.useState(""),2),f=h[0],p=h[1],g=y.slicedToArray(m.useState(null),2),w=g[0],D=g[1];return m.useEffect((function(){if(l){var e=J(l,i,c.weekDayStart);o("calendarDays",e)}}),[]),m.useEffect((function(){var t=e.selectedView||w;if(f!==t)if(l||!d.onSelectView){if(t){o("calendarDays",s[0]),o("selectedView",t);var n=J(t,_.DateTime.now(),c.weekDayStart,(function(e){o("selectedDate",e)}));o("calendarDays",n),p(t),D(null)}}else d.onSelectView(t)}),[w,e.selectedView]),m.useEffect((function(){var t=e.selectedView||l;if(f!==t&&t&&t!==t){o("calendarDays",s[0]),o("selectedView",t),p(t);var n=J(t,_.DateTime.now(),c.weekDayStart,(function(e){return o("selectedDate",e)}));o("calendarDays",n)}}),[l]),m.useLayoutEffect((function(){o("events",e.events)}),[JSON.stringify(e.events)]),m.useLayoutEffect((function(){d.onPageChange&&s&&s[0]&&s.length>0&&d.onPageChange(y.objectSpread({},X(s),{direction:n.direction}))}),[l,null===s||void 0===s?void 0:s[0],null===s||void 0===s?void 0:s[(null===s||void 0===s?void 0:s.length)-1]]),l&&(null===s||void 0===s?void 0:s.length)>0&&i&&u?v.jsxs(v.Fragment,{children:[v.jsx(Ve,{setViewChanged:D,kalendRef:e.kalendRef}),l!==r.AGENDA?v.jsx(Be,{}):null,v.jsx("div",{className:"Kalend__Calendar__table",children:v.jsxs(Pe,{children:[l===r.MONTH?v.jsx(ot,{events:e.events?e.events:[],eventLayouts:e.eventLayouts}):null,l===r.DAY||l===r.THREE_DAYS||l===r.WEEK?v.jsx($e,{events:e.events?e.events:[],eventLayouts:e.eventLayouts}):null,l===r.AGENDA?v.jsx(je,{events:e.events?e.events:[],eventLayouts:e.eventLayouts}):null]})})]}):null},st=function(e){var t=y.slicedToArray(m.useContext(se),2),n=t[0],a=t[1],r=function(e,t){a({type:e,payload:t})},o=n.selectedView,i=n.headerEventRowsCount;return m.useEffect((function(){var e=null===document||void 0===document?void 0:document.querySelector(".Kalend__Calendar__root");e&&new ResizeObserver((function(e){var t=e[0].contentRect,n=t.width;r("isMobile",n<750),r("rawWidth",t.width),r("width",t.width-k(o))})).observe(e)}),[null===document||void 0===document?void 0:document.querySelector(".Kalend__Calendar__root"),o]),m.useEffect((function(){var e=null===document||void 0===document?void 0:document.querySelector(".Kalend__Calendar__root");e&&new ResizeObserver((function(e){var t=e[0].contentRect,n=t.width;r("isMobile",n<750),r("rawWidth",t.width),r("width",t.width-k(o))})).observe(e)}),[]),m.useEffect((function(){var e=null===document||void 0===document?void 0:document.querySelector(".Kalend__Calendar__table");e&&new ResizeObserver((function(e){var t=e[0].contentRect;r("height",t.height)})).observe(e)}),[null===document||void 0===document?void 0:document.querySelector(".Kalend__Calendar__table"),o,i]),m.useEffect((function(){var e=null===document||void 0===document?void 0:document.querySelector(".Kalend__Calendar__table");e&&new ResizeObserver((function(e){var t=e[0].contentRect;r("height",t.height)})).observe(e)}),[]),e.children};ie=JSON.parse('{"buttons":{"today":"Heute","agenda":"Agenda","day":"Tag","threeDays":"3 Tags","week":"Woche","month":"Monat","showMore":"Mehr"},"months":{"january":"Januar","february":"Februar","march":"M\xe4rz","april":"April","may":"Mai","june":"Juni","july":"Juli","august":"August","september":"September","october":"Oktober","november":"November","december":"Dezember"},"weekDays":{"Mon":"Mon","Tue":"Die","Wed":"Mit","Thu":"Don","Fri":"Fre","Sat":"Sam","Sun":"Son"}}');var lt;lt=JSON.parse('{"buttons":{"today":"Hoy","agenda":"Diario","day":"D\xeda","threeDays":"3 D\xedas","week":"Semana","month":"Mes","showMore":"M\xe1s"},"months":{"january":"Enero","february":"Febrero","march":"Marzo","april":"Abril","may":"Mayo","june":"Junio","july":"Julio","august":"Agosto","september":"Septiembre","october":"Octubre","november":"Noviembre","december":"Diciembre"},"weekDays":{"Mon":"Lun","Tue":"Mar","Wed":"Mi\xe9","Thu":"Jue","Fri":"Vie","Sat":"S\xe1b","Sun":"Dom"}}');var dt;dt=JSON.parse('{"buttons":{"today":"Aujourd","agenda":"Jour","day":"Journ\xe9e","threeDays":"3 Jours","week":"Semaine","month":"Mois","showMore":"Plus"},"months":{"january":"Janvier","february":"F\xe9vrier","march":"Mars","april":"Avril","may":"Mai","june":"Juin","july":"Juillet","august":"Ao\xfbt","september":"Septembre","october":"Octobre","november":"Novembre","december":"D\xe9cembre"},"weekDays":{"Mon":"Lun","Tue":"Mar","Wed":"Mer","Thu":"Jeu","Fri":"Ven","Sat":"Sam","Sun":"Dim"}}');var ct;ct=JSON.parse('{"buttons":{"today":"\u0421\u0435\u0433\u043e\u0434\u043d\u044f","agenda":"\u0410\u0433\u0435\u043d\u0434\u0430","day":"\u0414\u0435\u043d\u044c","threeDays":"3 \u0434\u043d\u044f","week":"\u041d\u0435\u0434\u0435\u043b\u044f","month":"\u041c\u0435\u0441\u044f\u0446","showMore":"\u0415\u0449\u0435..."},"months":{"january":"\u042f\u043d\u0432\u0430\u0440\u044c","february":"\u0424\u0435\u0432\u0440\u0430\u043b\u044c","march":"\u041c\u0430\u0440\u0442","april":"\u0410\u043f\u0440\u0435\u043b\u044c","may":"\u041c\u0430\u0439","june":"\u0418\u044e\u043d\u044c","july":"\u0418\u044e\u043b\u044c","august":"\u0410\u0432\u0433\u0443\u0441\u0442","september":"\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","october":"\u041e\u043a\u0442\u044f\u0431\u0440\u044c","november":"\u041d\u043e\u044f\u0431\u0440\u044c","december":"\u0414\u0435\u043a\u0430\u0431\u0440\u044c"},"weekDays":{"Mon":"\u041f\u043d","Tue":"\u0412\u0442","Wed":"\u0421\u0440","Thu":"\u0427\u0442","Fri":"\u041f\u0442","Sat":"\u0421\u0431","Sun":"\u0412\u0441"}}');var ut;ut=JSON.parse('{"buttons":{"today":"\u4eca\u5929","agenda":"\u8bae\u7a0b","day":"\u65e5","threeDays":"3\u5929","week":"\u661f\u671f","month":"\u6708","showMore":"\u663e\u793a\u66f4\u591a"},"months":{"january":"\u4e00\u6708","february":"\u4e8c\u6708","march":"\u4e09\u6708","april":"\u56db\u6708","may":"\u53ef\u80fd","june":"\u516d\u6708","july":"\u4e03\u6708","august":"\u516b\u6708","september":"\u4e5d\u6708","october":"\u5341\u6708","november":"\u5341\u4e00\u6708","december":"\u5341\u4e8c\u6708"},"weekDays":{"Mon":"\u5468\u4e00","Tue":"\u5468\u4e8c","Wed":"\u5468\u4e09","Thu":"\u5468\u56db","Fri":"\u661f\u671f\u4e94","Sat":"\u5468\u516d","Sun":"\u661f\u671f\u65e5"}}');var ht=function(e){switch(e){case"en":return x(b);case"de":return x(ie);case"es":return x(lt);case"fr":return x(dt);case"ru":return x(ct);case"zh":return x(ut);default:return"en"}},ft=function(e){var t=e.language,n=e.customLanguage,a=y.slicedToArray(m.useContext(se),2),r=a[0],o=a[1],i=function(e,t){o({type:e,payload:t})},s=r.translations;return m.useEffect((function(){n?i("translations",n):t&&i("translations",ht(t))}),[]),m.useEffect((function(){n?i("translations",n):t&&i("translations",ht(t))}),[n,t]),s?e.children:null},yt=function(e){var t=y.slicedToArray(m.useState(!1),2),n=t[0],a=t[1];return m.useEffect((function(){document.querySelector(".Kalend__Calendar__root")&&a(!0)}),[document.querySelector(".Kalend__Calendar__root")]),n?e.children:null},vt=r,mt=function(e){return m.useEffect((function(){S(e),function(){var e=document.querySelector(".Kalend__Calendar__root");if(e&&"flex"!==window.getComputedStyle(e).display)throw Error("[Calend]: CSS file not imported.\n         Reason: You probably forgot to import css file in your app as\n         import 'kalend/dist/styles/index.css';\n\n         Valid usage:\n         import Kalend from 'kalend';\n         import 'kalend/dist/styles/index.css';")}()}),[]),v.jsx("div",{className:"Kalend__Calendar__root Kalend__main",children:v.jsx(le,{children:v.jsx(ft,{language:e.language||"en",customLanguage:e.customLanguage,children:v.jsx(yt,{children:v.jsx(ne,y.objectSpread({},e,{children:v.jsx(st,{children:v.jsx(it,{kalendRef:e.kalendRef,events:e.events,eventLayouts:e.eventLayouts,selectedView:e.selectedView})})}))})})})})}}}]);